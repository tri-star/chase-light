# CHASE-77: process-updatesãƒ¯ãƒ¼ã‚«ãƒ¼å®Ÿè£… - ä½œæ¥­ãƒ­ã‚°

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±
- **èª²é¡ŒID**: CHASE-77
- **ä½œæ¥­é–‹å§‹æ—¥**: 2025-07-26
- **SOW**: docs/sow/20250726-CHASE-77.md

## å®Ÿè£…è¨ˆç”»

### Phase 1: Serviceå±¤å®Ÿè£… âœ…
- [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ãƒ»DBè¨­è¨ˆãƒ»æ—¢å­˜ã‚³ãƒ¼ãƒ‰æŠŠæ¡
- [x] SOWå†…å®¹ç¢ºèª
- [x] OpenAI Structured Outputå®Ÿè£…æ–¹æ³•ã®èª¬æ˜
- [ ] TranslationServiceå®Ÿè£…ï¼ˆOpenAI APIé€£æºï¼‰
- [ ] ProcessUpdatesServiceå®Ÿè£…

### Phase 2: Workerså±¤å®Ÿè£…
- [ ] process-updates/handler.tså®Ÿè£…
- [ ] process-updates/index.tså®Ÿè£…
- [ ] ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ›´æ–°ï¼ˆservices/index.tsï¼‰

### Phase 3: Component Testå®Ÿè£…
- [ ] ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] æ­£å¸¸ç³»ãƒ»ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] TranslationServiceã®ã‚¹ã‚¿ãƒ–åŒ–

### Phase 4: ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£æ›´æ–°
- [ ] StepFunctionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©æ›´æ–°
- [ ] Lambdaé–¢æ•°å®šç¾©ã¨IAMæ¨©é™è¿½åŠ 
- [ ] ãƒ¢ãƒƒã‚¯è¨­å®šã¨ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ 

### Phase 5: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»èª¿æ•´
- [ ] SAM Localã§ã®å‹•ä½œç¢ºèª
- [ ] StepFunctionsã¨ã®é€£æºãƒ†ã‚¹ãƒˆ
- [ ] Lint, Format, Testå®Ÿè¡Œ

## æŠ€è¡“ä»•æ§˜ãƒ¡ãƒ¢

### OpenAI Structured Outputå®Ÿè£…è©³ç´°
- **ãƒ¢ãƒ‡ãƒ«**: gpt-4o-2024-08-06ï¼ˆStructured Outputå¯¾å¿œï¼‰
- **response_format**: json_schemaå‹ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ã‚’å³å¯†å®šç¾©
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: `<user-input>`ã‚¿ã‚°ã«ã‚ˆã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
- **ã‚¤ãƒ™ãƒ³ãƒˆåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**: RELEASE/ISSUE/PULL_REQUESTæ¯ã«æœ€é©åŒ–

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
#### æ–°è¦ä½œæˆ
- `packages/backend/src/features/monitoring/services/translation.service.ts`
- `packages/backend/src/features/monitoring/services/process-updates.service.ts`
- `packages/backend/src/features/monitoring/workers/process-updates/handler.ts`
- `packages/backend/src/features/monitoring/workers/process-updates/index.ts`
- `packages/backend/src/features/monitoring/workers/process-updates/__tests__/handler.test.ts`

#### æ›´æ–°å¯¾è±¡
- `packages/backend/src/features/monitoring/services/index.ts`
- `packages/backend/infrastructure/repository-monitoring.asl.json`
- `packages/backend/infrastructure/sam-template.yaml`
- `packages/backend/infrastructure/MockConfigFile.json`

## ä½œæ¥­é€²æ—

### 2025-07-26
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã€DBè¨­è¨ˆã€æ—¢å­˜ã‚³ãƒ¼ãƒ‰æŠŠæ¡å®Œäº†
- âœ… SOWå†…å®¹ç¢ºèªå®Œäº†
- âœ… OpenAI Structured Outputå®Ÿè£…æ–¹æ³•ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«èª¬æ˜
- ğŸ”„ ä½œæ¥­ãƒ­ã‚°ä½œæˆã¨å®Ÿè£…è¨ˆç”»è¨˜éŒ²

## æ‡¸å¿µäº‹é …ãƒ»èª²é¡Œ
- OpenAI APIã‚­ãƒ¼ã®ç®¡ç†æ–¹æ³•ï¼ˆSSM Parameter Storeä½¿ç”¨ï¼‰
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™æ™‚ã®ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…æ–¹æ³•
- å¤§é‡ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†æ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®

## æ¬¡å›ä½œæ¥­äºˆå®š
1. TranslationServiceã®å®Ÿè£…ï¼ˆOpenAI Structured Outputå¯¾å¿œï¼‰
2. ProcessUpdatesServiceã®å®Ÿè£…ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
3. workerså±¤ã®å®Ÿè£…é–‹å§‹