# CHASE-155: データソース一覧画面 - 作業ログ

**作業日**: 2025-12-03
**担当**: GitHub Copilot (Claude Opus 4.5)
**SOW**: `docs/sow/20251203-CHASE-155.md`

## 概要

ユーザーがウォッチしているデータソース（GitHubリポジトリ）の一覧を確認できる画面を新規作成する。

## 実装計画

### Phase 1: Domain層・Repository層実装

- [x] `features/data-sources/domain/data-source.ts` の作成
  - フロントエンド用のDataSource型定義（Backend API型のエイリアス）
- [x] `features/data-sources/repositories/data-source-list-repository.ts` の作成
  - データソース一覧取得用のRepositoryクラス
  - 検索、ソート、ページネーションパラメータ対応
- [x] format, lint, テスト実行, コミット

### Phase 2: ページコンポーネント実装

- [x] `components/pages/data-sources/parts/DataSourceItemSkeleton.vue` の作成
  - ローディング時のスケルトンコンポーネント
- [x] `components/pages/data-sources/parts/DataSourceListItem.vue` の作成
  - 個別データソースの表示コンポーネント
  - データソース名、description、スター数、ウォッチ状況表示
- [x] `components/pages/data-sources/parts/DataSourceList.vue` の作成
  - 無限スクロール、検索、ソート機能を含む一覧コンポーネント
- [x] `components/pages/data-sources/DataSourceListPage.vue` の作成
  - ページ本体のUIコンポーネント
- [x] format, lint, コミット

### Phase 3: ページエントリ・ナビゲーション実装

- [x] `pages/data-sources/index.vue` の作成
  - ルーティングエントリ、認証ミドルウェア、ページ本体コンポーネントのマウント
- [x] `ClSidebar.vue` にナビゲーションリンク追加
  - 「データソース一覧」リンクを追加
- [x] format, lint, コミット

### Phase 4: テスト実装

- [x] Repository層のユニットテスト作成
  - `features/data-sources/repositories/__tests__/data-source-list-repository.test.ts`
- [x] ページのフィーチャーテスト作成
  - `components/pages/data-sources/__tests__/DataSourceListPage.test.ts`
- [x] 全テスト実行・確認
- [x] format, lint, コミット

## ファイル一覧

### 新規作成ファイル

| ファイルパス                                                                                         | 説明                             |
| ---------------------------------------------------------------------------------------------------- | -------------------------------- |
| `packages/frontend/features/data-sources/domain/data-source.ts`                                      | フロントエンド用DataSource型定義 |
| `packages/frontend/features/data-sources/repositories/data-source-list-repository.ts`                | データソース一覧取得Repository   |
| `packages/frontend/components/pages/data-sources/DataSourceListPage.vue`                             | ページ本体コンポーネント         |
| `packages/frontend/components/pages/data-sources/parts/DataSourceList.vue`                           | 一覧表示コンポーネント           |
| `packages/frontend/components/pages/data-sources/parts/DataSourceListItem.vue`                       | 個別データソース表示             |
| `packages/frontend/components/pages/data-sources/parts/DataSourceItemSkeleton.vue`                   | スケルトンコンポーネント         |
| `packages/frontend/pages/data-sources/index.vue`                                                     | ページエントリ                   |
| `packages/frontend/features/data-sources/repositories/__tests__/data-source-list-repository.test.ts` | Repositoryテスト                 |
| `packages/frontend/components/pages/data-sources/__tests__/DataSourceListPage.test.ts`               | ページテスト                     |

### 更新対象ファイル

| ファイルパス                                                      | 変更内容                                     |
| ----------------------------------------------------------------- | -------------------------------------------- |
| `packages/frontend/components/base/layouts/default/ClSidebar.vue` | 「データソース一覧」ナビゲーションリンク追加 |

## 実装メモ

### 検索のデバウンス

- 検索入力には300msのデバウンスを適用し、入力のたびにAPI呼び出しを避ける

### ソート順オプション

| 値           | 表示名   |
| ------------ | -------- |
| `updatedAt`  | 更新日時 |
| `name`       | 名前     |
| `addedAt`    | 追加日時 |
| `starsCount` | スター数 |
| `createdAt`  | 作成日時 |

### ウォッチ状況表示

- Release/PR/Issueそれぞれのウォッチ状態をアイコン/バッジで表示

## 作業履歴

- 2025-12-03: 作業開始、実装計画作成
