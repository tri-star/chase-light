# Chase Light Backend - Environment Variables

# ==============================================
# 基本設定
# ==============================================

# Docker Compose プロジェクト名 (複数環境の分離に使用)
# デフォルト: backend (フォルダ名に基づく)
# 複数環境で使う場合は例: backend-dev, backend-test など
COMPOSE_PROJECT_NAME=backend

# Node.js環境 (development, production, test)
NODE_ENV=development

# アプリケーション環境 (dev, prod, test)
APP_STAGE=dev

# サーバーポート番号
PORT=3001

# ==============================================
# GitHub API 統合設定
# ==============================================

# GitHub Personal Access Token または GitHub App Token
# 必須: GitHub API統合機能を使用するために必要
# 取得方法: https://github.com/settings/personal-access-tokens
GITHUB_TOKEN=

# 必要なスコープ:
# - public_repo: パブリックリポジトリへのアクセス
# - repo: プライベートリポジトリへのアクセス (必要に応じて)
# - user: ユーザー情報とwatch済みリポジトリへのアクセス

# ==============================================
# データベース設定
# ==============================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=chase_light
DB_SSL=false

# ElasticMQ (SQS互換) REST API ポート番号
# デフォルト: 9324
ELASTICMQ_PORT=9324

# ElasticMQ Web UI ポート番号
# デフォルト: 9325
ELASTICMQ_UI_PORT=9325

# Step Functions Local ポート番号
# デフォルト: 8083
STEPFUNCTIONS_PORT=8083

# SAM Local ポート番号
SAM_LOCAL_PORT=3002

# ==============================================
# CORS設定
# ==============================================

# フロントエンドURL (複数の場合はカンマ区切り)
# 例: http://localhost:3000,http://localhost:3001
FRONTEND_URL=http://localhost:3000

# ==============================================
# ログ設定
# ==============================================

# ログレベル (error, warn, info, debug)
LOG_LEVEL=info

# ==============================================
# セキュリティ設定
# ==============================================

# セッション秘密鍵 (32文字以上の推奨ランダム文字列)
# SESSION_SECRET=your-super-secret-session-key-here-32-chars-min

# ==============================================
# Auth0 認証設定
# ==============================================

# Auth0ドメイン (必須)
# 例: your-tenant.auth0.com または your-tenant.us.auth0.com
AUTH0_DOMAIN=

# Auth0 Audience (API Identifier) (必須)
# Auth0ダッシュボードのApplications > APIs で確認可能
# 例: https://api.your-app.com
AUTH0_AUDIENCE=

# Auth0 Application Audience (必須)
# Auth0ダッシュボードのApplications > 設定 > 基本情報 の クライアントID で確認可能
# 例: 1A2B3C4D5E...
AUTH0_APP_AUDIENCE=

# オプション: 認証関連のログレベル (開発時のみ)
# 値: error, warn, info, debug
# AUTH_LOG_LEVEL=debug

# オプション: 機密情報のデバッグ出力 (開発時のみ、本番では絶対にtrue にしない)
# AUTH_DEBUG_SENSITIVE=false

# オプション: 開発環境での認証無効化 (本番では絶対にtrue にしない)
# DISABLE_AUTH=false

# オプション: 追加の認証除外パス (カンマ区切り)
# AUTH_EXCLUDE_PATHS=/api/test,/debug

# ==============================================
# テスト用Auth設定 (ローカル/CI専用)
# Auth0を経由せずに署名済みテストJWTでログインする際に使用
# ==============================================
TEST_AUTH_ENABLED=false
TEST_AUTH_SECRET=replace-with-a-random-secret
TEST_AUTH_AUDIENCE=http://localhost:3001
TEST_AUTH_ISSUER=http://localhost/test-auth


# ==============================================
# 開発環境固有設定
# ==============================================

# API レスポンスの詳細エラー情報表示 (dev のみ)
SHOW_DETAILED_ERRORS=true

# ホットリロード設定
WATCH_FILES=true

# ==============================================
# 本番環境固有設定
# ==============================================

# HTTPS強制リダイレクト(現時点では未使用)
# FORCE_HTTPS=true

# セキュリティヘッダー強化(現時点では未使用)
# SECURITY_HEADERS_STRICT=true

# ==============================================
# 監視・モニタリング設定 (将来拡張用)
# ==============================================

# Sentry DSN (エラートラッキング)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# アプリケーション名とバージョン
APP_NAME=chase-light-backend

# ==============================================
# OpenAI API設定
# ==============================================

# OpenAI API Key (必須)
# 取得方法: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# 外部AI API呼び出しをスタブに切り替えるか (開発・テスト用途のみ)
USE_EXTERNAL_AI_API_STUB=false

# ==============================================
# GitHub Enterprise設定 (オプション)
# ==============================================

# GitHub Enterprise Server URL (GitHub.com以外を使用する場合)
# GITHUB_API_URL=https://api.github.com
# GITHUB_BASE_URL=https://your-github-enterprise.com/api/v3
